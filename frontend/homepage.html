<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillSwap - Teach, Learn, Grow Together</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/homepage.css">
    <!-- Tagify CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@yaireo/tagify/dist/tagify.css">

    
<script>

document.addEventListener("DOMContentLoaded", function () {
  const input = document.getElementById('searchInput');
  const dropdown = document.getElementById('searchDropdown');

  const staticSuggestions = [
    "Python", "Drawing", "UI/UX", "React", "Public Speaking", "Divya", "Aman", "Music", "Art"
  ];

  let history = JSON.parse(localStorage.getItem("searchHistory")) || [];
  let activeIndex = -1;

  function showSuggestions(query) {
    dropdown.innerHTML = '';
    activeIndex = -1;

    const matches = query
      ? staticSuggestions.filter(item => item.toLowerCase().includes(query.toLowerCase()))
      : history;

    if (matches.length === 0) {
      dropdown.innerHTML = '<div class="suggestion-item">No results found</div>';
      dropdown.style.display = 'block';
      return;
    }

    matches.forEach(item => {
      const div = document.createElement('div');
      div.className = 'suggestion-item';
      div.textContent = item;
      div.onclick = () => selectSuggestion(item);
      dropdown.appendChild(div);
    });

    dropdown.style.display = 'block';
  }

  function selectSuggestion(text) {
    input.value = text;
    dropdown.innerHTML = '';
    if (!history.includes(text)) {
      history.unshift(text);
      history = history.slice(0, 5);
      localStorage.setItem("searchHistory", JSON.stringify(history));
    }
    alert("You searched: " + text); // Replace this with actual navigation or logic
  }

  input.addEventListener('input', () => {
    showSuggestions(input.value);
  });

  input.addEventListener('keydown', (e) => {
    const items = dropdown.querySelectorAll('.suggestion-item');
    if (!items.length) return;

    if (e.key === 'ArrowDown') {
      activeIndex = (activeIndex + 1) % items.length;
    } else if (e.key === 'ArrowUp') {
      activeIndex = (activeIndex - 1 + items.length) % items.length;
    } else if (e.key === 'Enter') {
      e.preventDefault();
      if (activeIndex >= 0) items[activeIndex].click();
    }

    items.forEach((item, i) => {
      item.classList.toggle('active', i === activeIndex);
    });
  });

  document.addEventListener('click', (e) => {
    if (!e.target.closest('.search-wrapper')) {
      dropdown.innerHTML = '';
    }
  });
});

// function showSection(sectionId) {
//     const sections = document.querySelectorAll('.content-section');
//     sections.forEach(section => section.style.display = 'none');

//     const target = document.getElementById(sectionId);
//     if (target) {
//         target.style.display = 'block';

//         // Push state if it's not the current one
//         if (history.state?.section !== sectionId) {
//             history.pushState({ section: sectionId }, '', '#' + sectionId);
//         }

//         // Show back button
//         document.getElementById('backButtonContainer').style.display = history.length > 1 ? 'block' : 'none';
//     }
// }
  // window.showSection = function (target) {
  //   const id = target.endsWith('Section') ? target : `${target}Section`;

  //   // Hide all sections, show the target
  //   document.querySelectorAll('.content-section').forEach(sec => sec.style.display = 'none');
  //   const el = document.getElementById(id);
  //   if (!el) return;
  //   el.style.display = 'block';

  //   // Push history state (only if it changed)
  //   if (history.state?.section !== id) {
  //     history.pushState({ section: id }, '', '#' + id);
  //   }

  //   const b = document.getElementById('backButtonContainer');
  //   if (b) b.style.display = history.length > 1 ? 'block' : 'none';
  // };
function goBack() {
  if (window.history.length > 1) {
    window.history.back();
  } else {
    window.location.href = "newindex.html"; // fallback if no history
  }
}
// When navigating:
function loadPage(url) {
  fetch(url)
    .then(res => res.text())
    .then(data => {
      document.getElementById("main").innerHTML = data;
      history.pushState({ page: url }, "", url);
    });
}

// Back button handler:
// window.onpopstate = function (event) {
//   if (event.state?.page) {
//     loadPage(event.state.page);
//   }
// };
// window.onpopstate = function (event) {
//     if (event.state && event.state.section) {
//         const sections = document.querySelectorAll('.content-section');
//         sections.forEach(section => section.style.display = 'none');

//         const target = document.getElementById(event.state.section);
//         if (target) target.style.display = 'block';

//         // Show or hide the back button
//         document.getElementById('backButtonContainer').style.display = history.length > 1 ? 'block' : 'none';
//     }
// };
window.onpopstate = function (event) {
    const id = event.state?.section;
    if (!id) return;

    document.querySelectorAll('.content-section').forEach(sec => sec.style.display = 'none');
    const el = document.getElementById(id);
    if (el) el.style.display = 'block';

    const b = document.getElementById('backButtonContainer');
    if (b) b.style.display = history.length > 1 ? 'block' : 'none';
  };


function sendMessage() {
  const input = document.getElementById("messageInput");
  const chat = document.getElementById("chatMessages");
  if (input.value.trim()) {
    const msg = document.createElement("div");
    msg.className = "message mb-2";
    msg.innerHTML = `<strong>You:</strong> ${input.value}`;
    chat.appendChild(msg);
    input.value = "";
    chat.scrollTop = chat.scrollHeight; // scroll to bottom
  }
}

document.addEventListener("DOMContentLoaded", function () {
  const input = document.getElementById('searchInput');
  const dropdown = document.getElementById('searchDropdown');
  const searchableElements = document.querySelectorAll('h1, h2, h3, h4, h5, h6, .skill-tag, .skill-offered, .brand-text, .section-header, .summary-content h5');

  let contentSet = new Set();
  searchableElements.forEach(el => {
    if (el.textContent.trim()) contentSet.add(el.textContent.trim());
  });

  const contentList = [...contentSet];
  let history = JSON.parse(localStorage.getItem("searchHistory")) || [];
  let activeIndex = -1;

  function showSuggestions(query) {
    dropdown.innerHTML = '';
    activeIndex = -1;

    const matches = query
      ? contentList.filter(item => item.toLowerCase().includes(query.toLowerCase()))
      : history;

    if (matches.length === 0) {
      dropdown.innerHTML = '<div class="suggestion-item">No results found</div>';
      dropdown.style.display = 'block';
      return;
    }

    matches.forEach(item => {
      const div = document.createElement('div');
      div.className = 'suggestion-item';
      div.textContent = item;
      div.onclick = () => selectSuggestion(item);
      dropdown.appendChild(div);
    });

    dropdown.style.display = 'block';
  }

  function selectSuggestion(text) {
    input.value = text;
    dropdown.innerHTML = '';
    if (!history.includes(text)) {
      history.unshift(text);
      history = history.slice(0, 5);
      localStorage.setItem("searchHistory", JSON.stringify(history));
    }

    // Scroll to matching section if found
    const match = Array.from(searchableElements).find(el => el.textContent.trim() === text);
    if (match) {
      match.scrollIntoView({ behavior: "smooth", block: "center" });
      match.style.backgroundColor = "#ffffcc"; // highlight
      setTimeout(() => match.style.backgroundColor = "", 1500);
    }
  }

  input.addEventListener('input', () => {
    showSuggestions(input.value);
  });

  input.addEventListener('keydown', (e) => {
    const items = dropdown.querySelectorAll('.suggestion-item');
    if (!items.length) return;

    if (e.key === 'ArrowDown') {
      activeIndex = (activeIndex + 1) % items.length;
    } else if (e.key === 'ArrowUp') {
      activeIndex = (activeIndex - 1 + items.length) % items.length;
    } else if (e.key === 'Enter') {
      e.preventDefault();
      if (activeIndex >= 0) items[activeIndex].click();
    }

    items.forEach((item, i) => {
      item.classList.toggle('active', i === activeIndex);
    });
  });

  document.addEventListener('click', (e) => {
    if (!e.target.closest('.search-wrapper')) {
      dropdown.innerHTML = '';
    }
  });
});

</script>

<style>
    .search-wrapper {
  position: relative;
  width: 100%;
  max-width: 600px;
  margin: 0 auto;
}

.search-box {
  width: 100%;
  padding: 12px 20px 12px 45px;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 24px;
  outline: none;
  box-shadow: 0 1px 6px rgba(32,33,36,.28);
  transition: box-shadow 0.2s ease-in-out;
}

.search-box:focus {
  box-shadow: 0 2px 8px rgba(32,33,36,.38);
}

.search-icon {
  position: absolute;
  left: 15px;
  top: 50%;
  transform: translateY(-50%);
  color: #888;
  pointer-events: none;
}

.dropdown-suggestions {
  position: absolute;
  top: 105%;
  left: 0;
  right: 0;
  background: #fff;
  border-radius: 0 0 12px 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  z-index: 999;
  overflow: hidden;
  max-height: 300px;
  overflow-y: auto;
}

.suggestion-item {
  padding: 10px 16px;
  cursor: pointer;
  font-size: 15px;
  border-bottom: 1px solid #eee;
}

.suggestion-item:hover, .suggestion-item.active {
  background-color: #f2f2f2;
}
.banner-section h1 {
  font-size: 2.2rem;
  line-height: 1.4;
}
</style>

</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
        <div class="container">
            <!-- Logo -->
            <a class="navbar-brand d-flex align-items-center" href="#" onclick="showSection('home')">
                <div class="logo-icon">
                    <i class="fas fa-book-open text-white"></i>
                </div>
                <span class="brand-text ms-2">SkillSwap</span>
            </a>
            
            <div class="search-wrapper">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="searchInput" class="search-box" placeholder="Search skills, users, categories..." autocomplete="off" />
                <div id="searchDropdown" class="dropdown-suggestions"></div>
            </div>

            <!-- Profile Dropdown -->
            <div class="dropdown">
                <button class="profile-btn dropdown-toggle" type="button" id="profileDropdown" data-bs-toggle="dropdown">
                    <i class="fas fa-user-circle"></i>
                </button>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li><a class="dropdown-item" href="#" onclick="showSection('home')"><i class="fas fa-home me-2"></i>Home</a></li>
                    <li><a class="dropdown-item" href="#" onclick="showSection('skillCategory')"><i class="fas fa-th-large me-2"></i>Skill Category</a></li>
                    <li><a class="dropdown-item" href="#" onclick="showSection('dashboard')"><i class="fas fa-tachometer-alt me-2"></i>My Dashboard</a></li>
                    <li><a class="dropdown-item" href="#" onclick="showSection('connections')"><i class="fas fa-users me-2"></i>Connections</a></li>
                    <li><a class="dropdown-item" href="#" onclick="showSection('requests')"><i class="fas fa-envelope me-2"></i>Requests</a></li>
                    <li><a class="dropdown-item" href="#" onclick="showSection('messages')"><i class="fas fa-comments me-2"></i>Messages</a></li>
                    <li><a class="dropdown-item" href="#" onclick="showSection('profile')"><i class="fas fa-user me-2"></i>Profile</a></li>
                    <li><a class="dropdown-item" href="#" onclick="showSection('help&feedback')"><i class="fas fa-question-circle"></i>&nbsp;&nbsp;Help & Feedback</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item text-danger" href="#" onclick="logout()"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <div class="main-container">
       

        <!-- Back Button (Hidden by default) -->
        <div class="back-button-container" id="backButtonContainer" style="display: none;">
            <div class="container">
                <button class="back-btn" onclick="goBack()">
                    <i class="fas fa-arrow-left me-2"></i>Back
                </button>
            </div>
        </div>

        <!-- Dynamic Content Sections -->
        <div class="content-container">
            
            <!-- HOME SECTION -->
            <div id="homeSection" class="content-section active">
                <div class="container">
                    
                    <!-- Personalized Greeting -->
                    <!-- Banner Welcome Section -->
                    <div class="banner-section mb-5 p-4 rounded" style="background-color: #f3eefe;">
                        <div class="row align-items-center">
                            <div class="col-md-8">
                                <h4 class="text-dark">Welcome back</h4>
                                <h1 class="fw-bold text-primary mb-2">Discover New Skills<br><span class="text-dark">Teach What You Know</span></h1>
                                <!-- <div class="mt-3">
                                    <a href="#skillCategorySection" class="btn btn-primary me-2">Explore Skills</a>
                                    <a href="#profileSection" class="btn btn-outline-primary">Teach a Skill</a>
                                </div> -->
                            </div>
                            <div class="col-md-4 text-center">
                                <img src="https://media.istockphoto.com/id/1278472238/vector/learn-from-distance-with-teacher-online-education-kid-boy-is-sitting-on-laptop-and-studying.jpg?s=170667a&w=0&k=20&c=wG5wZhtQgdHaMHnCNKYrj6ZPHxIlfw2Uxonhi8yFCMI=" alt="Learning Illustration" class="img-fluid" style="max-height: 220px;" />
                            </div>
                        </div>
                    </div>

                    <!-- Quick Summary Cards -->
                    <div class="row mb-4">
                        <div class="col-md-4 mb-3">
                            <div class="summary-card">
                                <div class="summary-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="summary-content" onclick="showSection('messages')">
                                    <h5>Messages</h5>
                                    <p>You have 2 new messages</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="summary-card">
                                <div class="summary-icon">
                                    <i class="fas fa-paper-plane"></i>
                                </div>
                                <div class="summary-content" onclick="showSection('requests')">
                                    <h5>Requests</h5>
                                    <p>1 pending skill swap request</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="summary-card">
                                <div class="summary-icon">
                                    <i class="fas fa-calendar"></i>
                                </div>
                                <div class="summary-content" onclick="showSection('dashboard')">
                                    <h5>Upcoming Sessions</h5>
                                    <p>Next session in 2 hours</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recommended Skills -->
                    <div class="section-header mb-3">
                        <h3><i class="fas fa-star me-2"></i>Recommended Skills for You</h3>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-4 mb-3">
                            <div class="skill-recommendation-card">
                                <div class="skill-icon">
                                    <i class="fab fa-python"></i>
                                </div>
                                <h5>Python Programming</h5>
                                <p class="recommendation-reason">Based on your interests</p>
                                <div class="card-actions">
                                    <button class="btn btn-primary btn-sm">Request to Learn</button>
                                    <button class="btn btn-outline-primary btn-sm">Request to Teach</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="skill-recommendation-card">
                                <div class="skill-icon">
                                    <i class="fas fa-guitar"></i>
                                </div>
                                <h5>Guitar Playing</h5>
                                <p class="recommendation-reason">Trending now</p>
                                <div class="card-actions">
                                    <button class="btn btn-primary btn-sm">Request to Learn</button>
                                    <button class="btn btn-outline-primary btn-sm">Request to Teach</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="skill-recommendation-card">
                                <div class="skill-icon">
                                    <i class="fas fa-comments"></i>
                                </div>
                                <h5>Public Speaking</h5>
                                <p class="recommendation-reason">Popular in your area</p>
                                <div class="card-actions">
                                    <button class="btn btn-primary btn-sm">Request to Learn</button>
                                    <button class="btn btn-outline-primary btn-sm">Request to Teach</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Featured Skill Swaps -->
                    <div class="section-header mb-3">
                        <h3><i class="fas fa-fire me-2"></i>Featured Skill Swaps</h3>
                    </div>
                    <div class="row mb-4">
                        <div class="col-md-6 mb-3">
                            <div class="featured-swap-card">
                                <div class="user-avatar">
                                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face" alt="Aman">
                                </div>
                                <div class="swap-details">
                                    <h5>Aman Kumar</h5>
                                    <p class="skill-offered">Teaches: Music Theory & Guitar</p>
                                    <div class="rating">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <span>4.9</span>
                                    </div>
                                    <p class="bio">Professional musician with 10+ years experience</p>
                                </div>
                                <div class="swap-actions">
                                    <button class="btn btn-primary btn-sm">View Profile</button>
                                    <button class="btn btn-outline-primary btn-sm">Send Request</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="featured-swap-card">
                                <div class="user-avatar">
                                    <img src="https://images.unsplash.com/photo-1494790108755-2616b332c1a7?w=100&h=100&fit=crop&crop=face" alt="Sara">
                                </div>
                                <div class="swap-details">
                                    <h5>Sara Johnson</h5>
                                    <p class="skill-offered">Teaches: French Language</p>
                                    <div class="rating">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <span>4.8</span>
                                    </div>
                                    <p class="bio">Native French speaker, loves teaching languages</p>
                                </div>
                                <div class="swap-actions">
                                    <button class="btn btn-primary btn-sm">View Profile</button>
                                    <button class="btn btn-outline-primary btn-sm">Send Request</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Explore Categories -->
                    <div class="section-header mb-3">
                        <h3><i class="fas fa-th-large me-2"></i>Explore Skill Categories</h3>
                    </div>
                    <div class="row">
                        <div class="col-lg-2 col-md-3 col-6 mb-3">
                            <div class="category-card" data-category='Programming'>
                                <div class="category-icon">
                                    <i class="fas fa-laptop-code"></i>
                                </div>
                                <h6>Programming</h6>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-3 col-6 mb-3">
                            <div class="category-card" data-category='Design'>
                                <div class="category-icon">
                                    <i class="fas fa-palette"></i>
                                </div>
                                <h6>Design</h6>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-3 col-6 mb-3">
                            <div class="category-card" data-category='Music & Arts'>
                                <div class="category-icon">
                                    <i class="fas fa-music"></i>
                                </div>
                                <h6>Music & Arts</h6>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-3 col-6 mb-3">
                            <div class="category-card" data-category='Business'>
                                <div class="category-icon">
                                    <i class="fas fa-briefcase"></i>
                                </div>
                                <h6>Business</h6>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-3 col-6 mb-3">
                            <div class="category-card" data-category='Languages'>
                                <div class="category-icon">
                                    <i class="fas fa-globe"></i>
                                </div>
                                <h6>Languages</h6>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-3 col-6 mb-3">
                            <div class="category-card" data-category='Culinary'>
                                <div class="category-icon">
                                    <i class="fas fa-utensils"></i>
                                </div>
                                <h6>Culinary</h6>
                            </div>
                        </div>
                    </div>

                    <!-- Call to Action -->
                    <div class="cta-section text-center">
                        <div class="cta-card">
                            <h4>Haven't added your skills yet?</h4>
                            <p>Start your journey! Add skills you can teach or want to learn.</p>
                            <button class="btn btn-primary btn-lg" onclick="showSection('profile')">
                                <i class="fas fa-plus me-2"></i>Add Skills
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SKILL CATEGORY SECTION -->
            <div id="skillCategorySection" class="content-section">
                <div class="container">
                    <div class="section-header mb-4">
                        <h2><i class="fas fa-th-large me-2"></i>Skill Categories</h2>
                        <p>Explore all available skill categories and find your perfect match</p>
                    </div>
                    <div class="row">
                        <div class="col-lg-2 col-md-3 col-6 mb-3">
                            <div class="category-card" data-category='Programming'>
                                <div class="category-icon">
                                    <i class="fas fa-laptop-code"></i>
                                </div>
                                <h6>Programming</h6>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-3 col-6 mb-3">
                            <div class="category-card" data-category='Design'>
                                <div class="category-icon">
                                    <i class="fas fa-palette"></i>
                                </div>
                                <h6>Design</h6>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-3 col-6 mb-3">
                            <div class="category-card" data-category='Music & Arts'>
                                <div class="category-icon">
                                    <i class="fas fa-music"></i>
                                </div>
                                <h6>Music & Arts</h6>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-3 col-6 mb-3">
                            <div class="category-card" data-category='Business'>
                                <div class="category-icon">
                                    <i class="fas fa-briefcase"></i>
                                </div>
                                <h6>Business</h6>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-3 col-6 mb-3">
                            <div class="category-card" data-category='Languages'>
                                <div class="category-icon">
                                    <i class="fas fa-globe"></i>
                                </div>
                                <h6>Languages</h6>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-3 col-6 mb-3">
                            <div class="category-card" data-category='Culinary'>
                                <div class="category-icon">
                                <i class="fas fa-utensils"></i>
                            </div>
                                <h6>Culinary</h6>
                            </div>
                        </div>
                    </div>
                   
                </div>
            </div>
            <!-- CATEGORY RESULTS SECTION (hidden by default) -->
            <div id="categoryResults" class="content-section container mt-4" style="display: none;">
                <!-- JS will inject users here when a category is clicked -->
            </div>

            <!-- DASHBOARD SECTION -->
            <div id="dashboardSection" class="content-section">
                <div class="container">
                    <div class="dashboard-header mb-4">
                        <h2><i class="fas fa-tachometer-alt me-2"></i>My Dashboard</h2>
                        <p>Hello 👋</p>
                    </div>

                    <!-- Quick Stats -->
                    <div class="row mb-4">
                        <div class="col-md-3 mb-3">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-chalkboard-teacher"></i>
                                </div>
                                <div class="stat-info">
                                    <h4>4</h4>
                                    <p>Skills Offered</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-graduation-cap"></i>
                                </div>
                                <div class="stat-info">
                                    <h4>2</h4>
                                    <p>Skills Learning</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-handshake"></i>
                                </div>
                                <div class="stat-info">
                                    <h4>8</h4>
                                    <p>Completed Swaps</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-star"></i>
                                </div>
                                <div class="stat-info">
                                    <h4>4.7</h4>
                                    <p>Average Rating</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Your Skills -->
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="skills-panel">
                                <div class="skills-header">
                                    <h4><i class="fas fa-chalkboard-teacher me-2"></i>Skills You Can Teach</h4>
                                    <button class="btn btn-sm btn-outline-primary" onclick="addSkill('teach')">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                                <div class="skills-list" id="teachingSkills">
                                    <div class="skill-item">
                                        <div class="skill-info">
                                            <h6>HTML/CSS</h6>
                                            <span class="skill-level">Expert</span>
                                        </div>
                                        <div class="skill-actions">
                                            <button class="btn btn-sm btn-outline-secondary"><i class="fas fa-edit"></i></button>
                                            <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                        </div>
                                    </div>
                                    <div class="skill-item">
                                        <div class="skill-info">
                                            <h6>Photography</h6>
                                            <span class="skill-level">Intermediate</span>
                                        </div>
                                        <div class="skill-actions">
                                            <button class="btn btn-sm btn-outline-secondary"><i class="fas fa-edit"></i></button>
                                            <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="skills-panel">
                                <div class="skills-header">
                                    <h4><i class="fas fa-graduation-cap me-2"></i>Skills You Want to Learn</h4>
                                    <button class="btn btn-sm btn-outline-primary" onclick="addSkill('learn')">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                                <div class="skills-list" id="learningSkills">
                                    <div class="skill-item">
                                        <div class="skill-info">
                                            <h6>Python Programming</h6>
                                            <span class="skill-status">In Progress</span>
                                        </div>
                                        <div class="skill-actions">
                                            <button class="btn btn-sm btn-outline-secondary"><i class="fas fa-edit"></i></button>
                                            <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                        </div>
                                    </div>
                                    <div class="skill-item">
                                        <div class="skill-info">
                                            <h6>Public Speaking</h6>
                                            <span class="skill-status">Seeking Mentor</span>
                                        </div>
                                        <div class="skill-actions">
                                            <button class="btn btn-sm btn-outline-secondary"><i class="fas fa-edit"></i></button>
                                            <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Upcoming Sessions -->
                    <div class="dashboard-section mb-4">
                        <div class="section-header">
                            <h4><i class="fas fa-calendar me-2"></i>Upcoming Sessions</h4>
                        </div>
                        <div class="sessions-list">
                            <div class="session-item">
                                <div class="session-info">
                                    <h6>Python from Aman</h6>
                                    <p><i class="fas fa-calendar me-2"></i>Aug 4, 5:00 PM</p>
                                    <p><i class="fas fa-video me-2"></i>Online Session</p>
                                </div>
                                <div class="session-actions">
                                    <button class="btn btn-sm btn-outline-primary">Reschedule</button>
                                    <button class="btn btn-sm btn-outline-danger">Cancel</button>
                                </div>
                            </div>
                        </div>
                        <div class="sessions-list">
                            <div class="session-item">
                                <div class="session-info">
                                    <h6>Java to Aman</h6>
                                    <p><i class="fas fa-calendar me-2"></i>Aug 4, 7:00 PM</p>
                                    <p><i class="fas fa-video me-2"></i>Online Session</p>
                                </div>
                                <div class="session-actions">
                                    <button class="btn btn-sm btn-outline-primary">Reschedule</button>
                                    <button class="btn btn-sm btn-outline-danger">Cancel</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="quick-actions text-center">
                        <button class="btn btn-primary me-2" onclick="addSkill('teach')">
                            <i class="fas fa-plus me-2"></i>Add New Skill
                        </button>
                        <button class="btn btn-outline-primary me-2" onclick="showSection('skillCategory')">
                            <i class="fas fa-search me-2"></i>Find a Skill Partner
                        </button>
                        <button class="btn btn-outline-primary" onclick="showSection('messages')">
                            <i class="fas fa-comments me-2"></i>Go to Messages
                        </button>
                    </div>
                </div>
            </div>

            <!-- CONNECTIONS SECTION -->
            <div id="connectionsSection" class="content-section" style="display:none;">
              <div class="container">
                <div class="section-header mb-4">
                  <h2><i class="fas fa-users me-2"></i>My Connections</h2>
                  <p>All the users you are connected with</p>
                </div>
                <div id="connectionsList" class="row">
                  <!-- JS will inject connections here -->
                </div>
              </div>
            </div>


            <!-- REQUESTS SECTION -->
            <div id="requestsSection" class="content-section">
              <div class="container">
                <div class="section-header mb-4">
                  <h2><i class="fas fa-envelope me-2"></i>Skill Swap Requests</h2>
                </div>

                <div class="row">
                  <!-- Received Requests -->
                  <div class="col-md-6 mb-4">
                    <div class="requests-panel">
                      <h4><i class="fas fa-inbox me-2"></i>Received Requests</h4>
                      <div id="receivedRequests" class="requests-list">
                        <!-- JS will inject received requests here -->
                      </div>
                    </div>
                  </div>

                  <!-- Sent Requests -->
                  <div class="col-md-6 mb-4">
                    <div class="requests-panel">
                      <h4><i class="fas fa-paper-plane me-2"></i>Sent Requests</h4>
                      <div id="sentRequests" class="requests-list">
                        <!-- JS will inject sent requests here -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>



            <!-- MESSAGES SECTION -->
<div id="messagesSection" class="content-section" style="display:none;">
  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <div class="col-md-4 border-end" id="chatSidebar">
        <h4 class="mt-3">Messages</h4>
        <div id="chatList" class="list-group">
          <!-- JS will inject chat users here -->
        </div>
      </div>

      <!-- Chat Window -->
      <div class="col-md-8" id="chatWindow">
        <div id="chatHeader" class="p-3 border-bottom">
          <h5>Select a chat</h5>
        </div>
        <div id="chatMessages" class="p-3" style="height:400px; overflow-y:auto;">
          <!-- JS will inject messages here -->
        </div>
        <div class="p-3 border-top d-flex align-items-center">
          <input type="file" id="fileInput" class="form-control me-2" style="max-width:200px;">
          <input type="text" id="messageInput" class="form-control me-2" placeholder="Type a message...">
          <button class="btn btn-primary" id="sendMessageBtn">Send</button>
        </div>

      </div>
    </div>
  </div>
  <!-- Live Session Modal -->
<div id="videoCallModal" class="modal" style="display:none;">
  <div class="modal-content position-relative">
    <!-- Controls -->
    <div class="d-flex justify-content-between align-items-center p-2 border-bottom">
      <h5 id="callTitle">Live Session</h5>
      <div>
        <button class="btn btn-sm btn-warning me-2" id="minimizeCallBtn">🔽</button>
        <button class="btn btn-sm btn-secondary me-2" id="toggleFullscreenBtn">⛶</button>
        <button class="btn btn-sm btn-primary me-2" id="toggleScreenShareBtn">🖥️</button>
        <button class="btn btn-sm btn-danger" id="endCallBtn">❌</button>
      </div>
    </div>

    <!-- Video container -->
    <div class="video-container position-relative mt-2" style="min-height:400px;">
      <!-- Big video (webcam OR screen) -->
      <video id="mainVideo" autoplay playsinline 
              class="rounded border w-100"
              style="max-height:400px; object-fit:cover; background:#000;"></video>

      <!-- Floating small video -->
      <video id="smallVideo" autoplay playsinline muted
             class="rounded border position-absolute"
             style="width:180px; height:130px; bottom:10px; right:10px; object-fit:cover; background:#000;"></video>
    </div>
  </div>
</div>




</div>



            <!-- PROFILE SECTION -->
            <!-- ---------- PROFILE SECTION (replace existing profile tab area) ---------- -->
<div id="profileSection" class="content-section">
  <div class="container">
    <div class="profile-header mb-4">
      <h2><i class="fas fa-user me-2"></i>Profile</h2>
      <button class="btn btn-primary" id="editProfileBtn" onclick="toggleEditMode()">
        <i class="fas fa-edit me-2"></i>Edit Profile
      </button>
    </div>

    <div class="row">
      <!-- Left: Picture & summary -->
      <div class="col-md-4 mb-4">
        <div class="profile-card text-center">
          <div class="profile-picture-container">
            <!-- <img src="https://cdn-icons-png.flaticon.com/512/219/219969.png" alt="User avatar" class="rounded-circle" style="width:120px; height:120px;"> -->
            <img src="./images/user.png" alt="User avatar" class="rounded-circle" style="width:120px; height:120px;">

          </div>
          <h3 id="displayName">Divya Sharma</h3>
          <p class="username text-muted">@divya_sharma</p>
         <!--<div class="rating">
            <i class="fas fa-star text-warning"></i>
            <i class="fas fa-star text-warning"></i>
            <i class="fas fa-star text-warning"></i>
            <i class="fas fa-star text-warning"></i>
            <i class="fas fa-star text-warning"></i>
            <span class="ms-2">4.7 (12 reviews)</span>
          </div>-->
        </div>
      </div>

      <!-- Right: Tabs -->
      <div class="col-md-8 mb-4">
        <div class="card p-3">
          <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#basicInfo">Basic Info</a></li>
            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#skillsTab">Skills</a></li>
            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#availabilityTab">Availability</a></li>
            <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#settingsTab">Settings</a></li>
          </ul>

          <div class="tab-content p-3">
            <!-- Basic Info -->
            <div id="basicInfo" class="tab-pane fade show active">
              <div class="profile-form">
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-control profile-input" id="fullName" name="name" readonly>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" name="email" class="form-control profile-input" id="email" readonly>
                  </div>

                  <div class="col-md-6 mb-3">
                    <label class="form-label">Phone Number</label>
                    <input type="text" class="form-control profile-input" id="phone" name="phone" readonly>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">Location</label>
                    <input type="text" class="form-control profile-input" id="location" name="location" readonly>
                  </div>

                  <div class="col-12 mb-3">
                    <label class="form-label">Bio</label>
                    <textarea class="form-control profile-input" id="bio" rows="3" name="bio" readonly></textarea>
                  </div>

                  <div class="col-md-6 mb-3">
                    <label class="form-label">LinkedIn</label>
                    <input type="text" class="form-control profile-input" name="linkedin" placeholder="https://linkedin.com/in/username" readonly>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label class="form-label">GitHub / Portfolio</label>
                    <input type="text" class="form-control profile-input" name="portfolio" placeholder="https://github.com/username" readonly>
                  </div>
                </div>
              </div>
            </div>

            <!-- Skills -->
            <!-- <div id="skillsTab" class="tab-pane fade">
              <h5>Skills I Can Teach</h5>
              <div id="skillsOfferedList" class="mb-3">
              
              </div>

              <h5>Skills I Want to Learn</h5>
              <div id="skillsWantedList" class="mb-3">
              
              </div>
            </div> -->
            <div id="skillsTab" class="tab-pane fade">
  <h5>Skills I Can Teach</h5>
  <div class="skill-edit-fields" style="display:none;">
    <div class="skill-row">
      <div class="tagify-container">
        <input id="skillsOfferedInput" placeholder="Type or pick a skill (e.g., Python)" />
      </div>
      <select id="skillLevelOffered" class="form-select skill-level-select">
        <option value="">Select level</option>
        <option>Beginner</option>
        <option>Intermediate</option>
        <option>Expert</option>
      </select>
      <button type="button" id="addOfferedBtn" class="btn btn-outline-primary btn-add" title="Add">
        <i class="fas fa-plus"></i>
      </button>
    </div>

    <label class="mt-2">Select Skill Categories:</label>
    <div id="offeredCategories" class="checkbox-group">
      <label><input type="checkbox" name="offered_category" value="Programming"> Programming</label>
      <label><input type="checkbox" name="offered_category" value="Design"> Design</label>
      <label><input type="checkbox" name="offered_category" value="Music & Arts"> Music & Arts</label>
      <label><input type="checkbox" name="offered_category" value="Photography"> Photography</label>
      <label><input type="checkbox" name="offered_category" value="Business"> Business</label>
      <label><input type="checkbox" name="offered_category" value="Culinary"> Culinary</label>
      <label><input type="checkbox" name="offered_category" value="Languages"> Languages</label>
    </div>
  </div>

  <ul id="skillsOfferedList" class="skills-list mt-2"></ul>

  <hr />

  <h5>Skills I Want to Learn</h5>
  <div class="skill-edit-fields" style="display:none;">
    <div class="skill-row">
      <div class="tagify-container">
        <input id="skillsWantedInput" placeholder="Type or pick a skill you want to learn" />
      </div>
      <select id="skillLevelWanted" class="form-select skill-level-select">
        <option value="">Select level</option>
        <option>Beginner</option>
        <option>Intermediate</option>
        <option>Expert</option>
      </select>
      <button type="button" id="addWantedBtn" class="btn btn-outline-primary btn-add" title="Add">
        <i class="fas fa-plus"></i>
      </button>
    </div>

    <label class="mt-2">Select Skill Categories:</label>
    <div id="wantedCategories" class="checkbox-group">
      <label><input type="checkbox" name="wanted_category" value="Programming"> Programming</label>
      <label><input type="checkbox" name="wanted_category" value="Design"> Design</label>
      <label><input type="checkbox" name="wanted_category" value="Music & Arts"> Music & Arts</label>
      <label><input type="checkbox" name="wanted_category" value="Photography"> Photography</label>
      <label><input type="checkbox" name="wanted_category" value="Business"> Business</label>
      <label><input type="checkbox" name="wanted_category" value="Culinary"> Culinary</label>
      <label><input type="checkbox" name="wanted_category" value="Languages"> Languages</label>
    </div>
  </div>

  <ul id="skillsWantedList" class="skills-list mt-2"></ul>
</div>


            <!-- Availability -->
            <div id="availabilityTab" class="tab-pane fade">
              <h5>Available Days</h5>
              <div class="mb-3">
                <!-- days toggles -->
                <label class="form-check form-check-inline"><input class="form-check-input availability-input" type="checkbox" name="availabilityDays" value="Mon" disabled> Mon</label>
                <label class="form-check form-check-inline"><input class="form-check-input availability-input" type="checkbox" name="availabilityDays" value="Tue" disabled> Tue</label>
                <label class="form-check form-check-inline"><input class="form-check-input availability-input" type="checkbox" name="availabilityDays" value="Wed" disabled> Wed</label>
                <label class="form-check form-check-inline"><input class="form-check-input availability-input" type="checkbox" name="availabilityDays" value="Thu" disabled> Thu</label>
                <label class="form-check form-check-inline"><input class="form-check-input availability-input" type="checkbox" name="availabilityDays" value="Fri" disabled> Fri</label>
                <label class="form-check form-check-inline"><input class="form-check-input availability-input" type="checkbox" name="availabilityDays" value="Sat" disabled> Sat</label>
                <label class="form-check form-check-inline"><input class="form-check-input availability-input" type="checkbox" name="availabilityDays" value="Sun" disabled> Sun</label>
              </div>

              <h6 class="mt-3">Time Slots:</h6>
              <div class="row">
                <!-- <div class="col-md-4 mb-2">
                  <input type="time" class="form-control availability-input" disabled>
                </div>
                <div class="col-md-1 d-flex align-items-center justify-content-center">to</div>
                <div class="col-md-4 mb-2">
                  <input type="time" class="form-control availability-input" disabled>
                </div> -->
                <input type="time" id="availabilityStart" class="form-control availability-input" disabled>
                <input type="time" id="availabilityEnd" class="form-control availability-input" disabled>
              
              </div>
              <h5>Timezone:</h5>
              <select id="availabilityTimezone" class="form-control availability-input" disabled>
                <option value="">Select Timezone</option>
                <option value="America/New_York">EST (New York)</option>
                <option value="America/Chicago">CST (Chicago)</option>
                <option value="America/Denver">MST (Denver)</option>
                <option value="America/Los_Angeles">PST (Los Angeles)</option>
                <option value="Europe/London">GMT (London)</option>
                <option value="Europe/Paris">CET (Paris)</option>
                <option value="Asia/Kolkata">IST (India)</option>
                <option value="Asia/Tokyo">JST (Tokyo)</option>
              </select>

            </div>

            <!-- Settings -->
            <div class="tab-pane fade" id="settingsTab">
                                        <div class="settings-section">
                                            <h5>Account Settings</h5>
                                            <div class="settings-item">
                                                <button class="btn btn-outline-primary">Change Password</button>
                                            </div>
                                            <div class="settings-item">
                                                <button class="btn btn-outline-danger" onclick="deleteAccount()">Delete Account</button>
                                            </div>

                                            <h5>Privacy Settings</h5>
                                            <div class="settings-item">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="profileVisibility" checked>
                                                    <label class="form-check-label" for="profileVisibility">Make profile visible to all users</label>
                                                </div>
                                            </div>
                                            <div class="settings-item">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="skillsVisibility" checked>
                                                    <label class="form-check-label" for="skillsVisibility">Show my skills publicly</label>
                                                </div>
                                            </div>

                                            <h5>Notification Preferences</h5>
                                            <div class="settings-item">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="emailNotifications" checked>
                                                    <label class="form-check-label" for="emailNotifications">Email notifications</label>
                                                </div>
                                            </div>
                                            <div class="settings-item">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="smsNotifications">
                                                    <label class="form-check-label" for="smsNotifications">SMS notifications</label>
                                                </div>
                                            </div>
                                            <div class="settings-item">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="appNotifications" checked>
                                                    <label class="form-check-label" for="appNotifications">In-app notifications</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

          </div> <!-- tab-content -->

          <!-- Edit / Save Buttons (shown only when edit mode) -->
          <div class="edit-buttons mt-3" id="editButtons" style="display:none;">
            <button class="btn btn-success me-2" onclick="saveProfile()">
              <i class="fas fa-save me-2"></i>Save Changes
            </button>
            <button class="btn btn-secondary" onclick="cancelEdit()">
              <i class="fas fa-times me-2"></i>Cancel
            </button>
          </div>

        </div> <!-- card -->
      </div> <!-- right col -->
    </div> <!-- row -->
  </div> <!-- container -->
</div>
<!-- Profile Modal -->
<!-- Profile Modal --><!--
<div class="modal fade" id="profileModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">User Profile</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="profileModalBody">-->
        <!-- Profile content will be injected here -->
      <!--</div>
    </div>
  </div>
</div>
-->

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Tagify JS -->
    <script src="https://cdn.jsdelivr.net/npm/@yaireo/tagify@4.9.8/dist/tagify.min.js"></script>
    <!-- Tagify JS -->
    <!-- Tagify JS -->
    <script src="https://unpkg.com/@yaireo/tagify"></script>
    <script src="https://unpkg.com/@yaireo/tagify/dist/tagify.polyfills.min.js"></script>

    <!-- Custom JavaScript -->
    <script src="./js/homepage_merged_2.js"></script>
</body>
</html>